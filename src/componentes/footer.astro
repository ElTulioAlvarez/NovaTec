---
export interface Props {
  logoSrc?: string;
}
const { logoSrc = "/novatec-logo.webp" } = Astro.props;
const year = new Date().getFullYear();
---

<footer class="footer-holo relative w-full mt-16 text-slate-200">
  <!-- Glow radial global del footer -->
  <div aria-hidden class="footer-glow pointer-events-none absolute inset-0"></div>

  <!-- Brand -->
  <div class="w-full">
    <div class="holo-card mx-auto w-[92%] max-w-[76rem]">
      <div class="holo-inner p-6 sm:p-8">
        <div class="flex items-center gap-3 group mb-4">
          <div class="logo-3d [perspective:1200px]">
            <img
              src={logoSrc}
              alt="NovaTec logo"
              class="h-10 w-10 rounded-lg shadow-lg transform-gpu transition-transform duration-700 [transform-style:preserve-3d] group-hover:[transform:rotateY(180deg)] group-hover:scale-105"
              loading="lazy"
              decoding="async"
            />
          </div>
          <div>
            <p class="text-base font-extrabold leading-tight">NovaTec Business Solutions</p>
            <p class="text-xs text-slate-300/80 -mt-0.5">Tecnolog√≠a + Social Media para crecer marcas</p>
          </div>
        </div>

        <p class="measure text-sm text-slate-300/95">
          Unificamos <strong>software a medida</strong> y <strong>social media</strong> para ordenar la operaci√≥n,
          posicionar tu marca y generar demanda real.
        </p>
      </div>
    </div>
  </div>

  <!-- Divisor hologr√°fico -->
  <div class="holo-divider mx-auto mt-8 w-[92%] max-w-[76rem]"></div>

  <!-- Cuerpo -->
  <section class="footer-flex relative z-10 mx-auto w-full max-w-[76rem] px-4 sm:px-6 lg:px-8 mt-8">
    <div class="grid grid-cols-1 gap-6 sm:gap-8 lg:grid-cols-12">
      <!-- Navegaci√≥n -->
      <nav class="lg:col-span-3">
        <div class="holo-card h-full">
          <div class="holo-inner p-6 sm:p-8">
            <h3 class="mb-4 font-semibold text-sm tracking-wide text-slate-100/90">Explorar</h3>
            <ul class="space-y-2.5 text-sm">
              <li><a href="/" class="footer-link">Inicio</a></li>
              <li><a href="/nosotros" class="footer-link">Nosotros</a></li>
              <li><a href="/productos" class="footer-link">Productos</a></li>
              <li><a href="/cotizar" class="footer-link">Cotizar</a></li>
            </ul>
          </div>
        </div>
      </nav>

      <!-- Contacto -->
      <div class="lg:col-span-4">
        <div class="holo-card h-full">
          <div class="holo-inner p-6 sm:p-8">
            <h3 class="mb-4 font-semibold text-sm tracking-wide text-slate-100/90">Contacto</h3>
            <ul class="space-y-3 text-sm">
              <li>
                <span class="text-slate-300/90">Email:</span>
                <a href="mailto:antimattermx@pm.me" class="footer-link ml-1">antimattermx@pm.me</a>
              </li>
              <li>
                <span class="text-slate-300/90">WhatsApp:</span>
                <a href="https://wa.me/524433711589" target="_blank" rel="noopener" class="footer-link ml-1">+52 4433711589</a>
              </li>
              <li class="text-slate-300/90">Morelia, Michoac√°n ‚Äî M√©xico</li>
            </ul>

            <div class="mt-5 flex items-center gap-3">
              <a href="https://facebook.com" target="_blank" rel="noopener" class="social-btn" aria-label="Facebook"><span aria-hidden>f</span></a>
              <a href="https://instagram.com" target="_blank" rel="noopener" class="social-btn" aria-label="Instagram"><span aria-hidden>‚óé</span></a>
              <a href="https://x.com" target="_blank" rel="noopener" class="social-btn" aria-label="X"><span aria-hidden>ùïè</span></a>
            </div>
          </div>
        </div>
      </div>

      <!-- Mapa -->
<div class="lg:col-span-5">
  <div class="holo-card self-start h-[100%]"> <!-- quitamos h-full -->
    <div class="holo-inner overflow-hidden p-0 ">
      <div class="aspect-[16/9] sm:aspect-[21/9] w-full h-[100%]">
        <iframe
          title="Morelia, Michoac√°n ‚Äî Mapa"
          loading="lazy"
          class="block w-full h-full rounded-[1.05rem]"
          src="https://www.openstreetmap.org/export/embed.html?bbox=-101.235%2C19.675%2C-101.160%2C19.735&layer=mapnik&marker=19.705%2C-101.194">
        </iframe>
      </div>
    </div>
  </div>
</div>

    </div>

    <!-- L√≠nea legal -->
    <div class="holo-divider mx-auto my-8 w-[92%] max-w-[76rem]"></div>
    <div class="flex flex-col sm:flex-row items-center justify-between gap-3 py-6 text-xs text-slate-400/90">
      <p>¬© {year} NovaTec Business Solutions. Todos los derechos reservados.</p>
      <ul class="flex flex-wrap items-center gap-4">
        <li><a href="/terminos" class="footer-link">T√©rminos</a></li>
        <li><a href="/privacidad" class="footer-link">Privacidad</a></li>
        <li><a href="/aviso" class="footer-link">Aviso</a></li>
      </ul>
    </div>
  </section>
</footer>

<style>
/* ===== Holo GENERAL en todo el footer ===== */
@property --angle { syntax: "<angle>"; initial-value: 0deg; inherits: false; }
@keyframes holo-spin { 0% { --angle: 0deg; } 100% { --angle: 360deg; } }

/* ‚¨áÔ∏è Ancho completo y sin altura fija */
.footer-holo{
  position: relative;
  isolation: isolate;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  padding-top: 25px;
  width: 100%;
}

/* Marco iridiscente exterior */
.footer-holo::before{
  content:""; position:absolute; inset:0; border-radius:1.25rem; padding:1.6px;
  background: conic-gradient(from var(--angle),
    #22d3ee 0deg, #a855f7 60deg, #60a5fa 120deg,
    #14b8a6 180deg, #a855f7 240deg, #22d3ee 300deg, #22d3ee 360deg);
  -webkit-mask: linear-gradient(#000 0 0) content-box, linear-gradient(#000 0 0);
  -webkit-mask-composite:xor; mask-composite:exclude;
  animation: holo-spin 22s linear infinite;
  opacity:.55; z-index:0; pointer-events:none;
}

/* Scanlines suaves */
.footer-holo::after{
  content:""; position:absolute; inset:0; border-radius:1.25rem;
  background:
    repeating-linear-gradient(115deg, rgba(255,255,255,.05) 0px, rgba(255,255,255,.05) 1px, transparent 2px, transparent 7px);
  mix-blend-mode:overlay; opacity:.25; z-index:0; pointer-events:none;
}

.footer-glow{
  background:
    radial-gradient(60% 50% at 70% 30%, rgba(34,211,238,.16), rgba(2,6,23,0)),
    radial-gradient(40% 45% at 20% 80%, rgba(168,85,247,.12), rgba(2,6,23,0));
  filter: blur(48px);
  opacity:.85;
}

/* ‚ö†Ô∏è Renombrada: antes era ".relative" y chocaba con Tailwind */
.footer-flex{
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
}

/* Divisor hologr√°fico reutilizable */
.holo-divider{
  height:1px; position:relative;
  background: linear-gradient(90deg, rgba(34,211,238,.0), rgba(34,211,238,.65), rgba(168,85,247,.65), rgba(34,211,238,.0));
  border-radius: 9999px;
  box-shadow: 0 0 12px rgba(34,211,238,.25), 0 0 16px rgba(168,85,247,.20);
}

/* ===== Cards hologr√°ficas internas ===== */
.holo-card{
  position:relative; display:grid; border-radius:1.05rem; overflow:hidden; isolation:isolate;
  transition: transform .28s ease, box-shadow .28s ease, filter .28s ease;
}
.holo-card::before{
  content:""; position:absolute; inset:0; border-radius:inherit; padding:1.6px;
  background: conic-gradient(from var(--angle),
    #22d3ee 0deg, #a855f7 60deg, #60a5fa 120deg,
    #14b8a6 180deg, #a855f7 240deg, #22d3ee 300deg, #22d3ee 360deg);
  -webkit-mask: linear-gradient(#000 0 0) content-box, linear-gradient(#000 0 0);
  -webkit-mask-composite:xor; mask-composite:exclude;
  animation: holo-spin 14s linear infinite; z-index:-1; opacity:.85;
}
.holo-card::after{
  content:""; position:absolute; inset:0; border-radius:inherit;
  background:
    repeating-linear-gradient(115deg, rgba(255,255,255,.06) 0px, rgba(255,255,255,.06) 1px, transparent 2px, transparent 7px),
    linear-gradient(45deg, rgba(255,255,255,.08), rgba(255,255,255,0));
  mix-blend-mode:overlay; opacity:.35; pointer-events:none; z-index:1;
}
.holo-inner{
  position:relative; height:100%; border-radius:inherit;
  background:rgba(15,23,42,.64); backdrop-filter:blur(14px) saturate(1.35);
  -webkit-backdrop-filter:blur(14px) saturate(1.35);
  border:1px solid rgba(255,255,255,.12);
  box-shadow:inset 0 0 0 1px rgba(255,255,255,.06), 0 10px 26px rgba(0,0,0,.36);
  z-index:2;
}
@media (prefers-reduced-motion:no-preference){
  .holo-card:hover{ transform:translateY(-5px) scale(1.01); filter: saturate(1.05); }
  .holo-card:hover::before{ animation-duration:10s; opacity:.98; filter:brightness(1.12); }
  .holo-card:hover::after{ opacity:.48; }
}

/* ===== Texto y enlaces ===== */
.measure { max-width: 65ch; line-height: 1.7; }

.footer-link {
  text-decoration: underline;
  text-underline-offset: 0.25em;
  color: rgba(241,245,249,0.95);
  transition: color .2s ease, text-decoration-color .2s ease, text-shadow .2s ease;
  text-decoration-color: rgba(34,211,238,0.40);
}
.footer-link:hover {
  color: #e6fbff;
  text-decoration-color: rgba(103,232,249,0.95);
  text-shadow: 0 0 6px rgba(103,232,249,.4);
}

/* ===== Bot√≥n social ===== */
.social-btn{
  display:inline-flex; align-items:center; justify-content:center;
  width:2.25rem; height:2.25rem;
  border-radius:0.5rem; border:1px solid rgba(255,255,255,.15);
  background: rgba(255,255,255,.05); color: rgba(241,245,249,.9);
  transition: all .2s ease; transform: translateZ(0);
  box-shadow: inset 0 0 0 1px rgba(255,255,255,.06);
}
.social-btn:hover{
  background: rgba(255,255,255,.10);
  border-color: rgba(255,255,255,.25);
  transform: scale(1.04);
}

/* 3D wrapper del logo (compatibilidad con proyectos sin arbitrary props Tailwind) */
.logo-3d{ perspective: 1200px; }
</style>
